(function(a){a.easytabs=function(u,i){var c=this,d=a(u),w={animate:true,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"normal",tabs:"> ul > li",updateHash:true,cycle:false,collapsible:false,collapsedClass:"collapsed",collapsedByDefault:true,uiTabs:false,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:true,panelContext:d},e,h,f,k,g,p={fast:200,normal:400,slow:600},b;c.init=function(){c.settings=b=a.extend({},w,i);if(b.uiTabs){b.tabActiveClass="ui-tabs-selected";b.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all";b.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all";b.tabClass="ui-state-default ui-corner-top";b.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"}if(b.collapsible&&i.defaultTab!==undefined&&i.collpasedByDefault===undefined)b.collapsedByDefault=false;if(typeof b.animationSpeed==="string")b.animationSpeed=p[b.animationSpeed];a("a.anchor").remove().prependTo("body");d.data("easytabs",{});c.setTransitions();c.getTabs();t();s();q();r();v();d.attr("data-easytabs",true)};c.setTransitions=function(){f=b.animate?{show:b.transitionIn,hide:b.transitionOut,speed:b.animationSpeed,collapse:b.transitionCollapse,uncollapse:b.transitionUncollapse,halfSpeed:b.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}};c.getTabs=function(){var e;c.tabs=d.find(b.tabs),c.panels=a(),c.tabs.each(function(){var f=a(this),g=f.children("a"),d=f.children("a").data("target");f.data("easytabs",{});if(d!==undefined&&d!==null)f.data("easytabs").ajax=g.attr("href");else d=g.attr("href");d=d.match(/#([^\?]+)/)[0].substr(1);e=b.panelContext.find("#"+d);if(e.length){e.data("easytabs",{position:e.css("position"),visibility:e.css("visibility")});e.not(b.panelActiveClass).hide();c.panels=c.panels.add(e);f.data("easytabs").panel=e}else c.tabs=c.tabs.not(f)})};c.selectTab=function(a,e){var h=window.location,i=h.hash.match(/^[^\?]*/)[0],d=a.parent().data("easytabs").panel,f=a.parent().data("easytabs").ajax;if(b.collapsible&&!g&&(a.hasClass(b.tabActiveClass)||a.hasClass(b.collapsedClass)))c.toggleTabCollapse(a,d,f,e);else if(!a.hasClass(b.tabActiveClass)||!d.hasClass(b.panelActiveClass))j(a,d,f,e);else!b.cache&&j(a,d,f,e)};c.toggleTabCollapse=function(a,e,h,g){c.panels.stop(true,true);if(l(d,"easytabs:before",[a,e,b])){c.tabs.filter("."+b.tabActiveClass).removeClass(b.tabActiveClass).children().removeClass(b.tabActiveClass);if(a.hasClass(b.collapsedClass)){if(h&&(!b.cache||!a.parent().data("easytabs").cached)){d.trigger("easytabs:ajax:beforeSend",[a,e]);e.load(h,function(b,c,f){a.parent().data("easytabs").cached=true;d.trigger("easytabs:ajax:complete",[a,e,b,c,f])})}a.parent().removeClass(b.collapsedClass).addClass(b.tabActiveClass).children().removeClass(b.collapsedClass).addClass(b.tabActiveClass);e.addClass(b.panelActiveClass)[f.uncollapse](f.speed,b.transitionUncollapseEasing,function(){d.trigger("easytabs:midTransition",[a,e,b]);typeof g=="function"&&g()})}else{a.addClass(b.collapsedClass).parent().addClass(b.collapsedClass);e.removeClass(b.panelActiveClass)[f.collapse](f.speed,b.transitionCollapseEasing,function(){d.trigger("easytabs:midTransition",[a,e,b]);typeof g=="function"&&g()})}}};c.matchTab=function(a){return c.tabs.find("[href='"+a+"'],[data-target='"+a+"']").first()};c.matchInPanel=function(a){return a&&a!=="#"?c.panels.filter(":has("+a+")").first():[]};c.selectTabFromHashChange=function(){var a=window.location.hash.match(/^[^\?]*/)[0],f=c.matchTab(a),i;if(b.updateHash)if(f.length){g=true;c.selectTab(f)}else{i=c.matchInPanel(a);if(i.length){a="#"+i.attr("id");f=c.matchTab(a);g=true;c.selectTab(f)}else if(!e.hasClass(b.tabActiveClass)&&!b.cycle)if(a===""||c.matchTab(k).length||d.closest(a).length){g=true;c.selectTab(h)}}};c.cycleTabs=function(d){if(b.cycle){d=d%c.tabs.length;$tab=a(c.tabs[d]).children("a").first();g=true;c.selectTab($tab,function(){setTimeout(function(){c.cycleTabs(d+1)},b.cycle)})}};c.publicMethods={select:function(d){var b;if((b=c.tabs.filter(d)).length===0){if((b=c.tabs.find("a[href='"+d+"']")).length===0)if((b=c.tabs.find("a"+d)).length===0)if((b=c.tabs.find("[data-target='"+d+"']")).length===0)(b=c.tabs.find("a[href$='"+d+"']")).length===0&&a.error("Tab '"+d+"' does not exist in tab set")}else b=b.children("a").first();c.selectTab(b)}};var l=function(e,d,c){var b=a.Event(d);e.trigger(b,c);return b.result!==false},t=function(){d.addClass(b.containerClass);c.tabs.parent().addClass(b.tabsClass);c.tabs.addClass(b.tabClass);c.panels.addClass(b.panelClass)},s=function(){var d=window.location.hash.match(/^[^\?]*/)[0],f=c.matchTab(d).parent(),g;if(d!==""&&f.length===1){e=f;b.cycle=false}else{g=c.matchInPanel(d);if(d!==""&&g.length){d="#"+g.attr("id");e=c.matchTab(d).parent()}else{e=c.tabs.parent().find(b.defaultTab);e.length===0&&a.error("The specified default tab ('"+b.defaultTab+"') could not be found in the tab set.")}}h=e.children("a").first();m(f)},m=function(g){var c,f;if(b.collapsible&&g.length===0&&b.collapsedByDefault)e.addClass(b.collapsedClass).children().addClass(b.collapsedClass);else{c=a(e.data("easytabs").panel);f=e.data("easytabs").ajax;if(f&&(!b.cache||!e.data("easytabs").cached)){d.trigger("easytabs:ajax:beforeSend",[h,c]);c.load(f,function(a,b,f){e.data("easytabs").cached=true;d.trigger("easytabs:ajax:complete",[h,c,a,b,f])})}e.data("easytabs").panel.show().addClass(b.panelActiveClass);e.addClass(b.tabActiveClass).children().addClass(b.tabActiveClass)}},q=function(){c.tabs.children("a").bind("click.easytabs",function(d){b.cycle=false;g=false;c.selectTab(a(this));d.preventDefault()})},j=function(e,a,s,r){c.panels.stop(true,true);if(l(d,"easytabs:before",[e,a,b])){var j=c.panels.filter(":visible"),h=a.parent(),q,p,i,m,t=window.location.hash.match(/^[^\?]*/)[0];if(b.animate){q=n(a);p=j.length?o(j):0;i=q-p}k=t;m=function(){d.trigger("easytabs:midTransition",[e,a,b]);if(b.animate&&b.transitionIn=="fadeIn")i<0&&h.animate({height:h.height()+i},f.halfSpeed).css({"min-height":""});if(b.updateHash&&!g)window.location.hash="#"+a.attr("id");else g=false;a[f.show](f.speed,b.transitionInEasing,function(){h.css({height:"","min-height":""});d.trigger("easytabs:after",[e,a,b]);typeof r=="function"&&r()})};if(s&&(!b.cache||!e.parent().data("easytabs").cached)){d.trigger("easytabs:ajax:beforeSend",[e,a]);a.load(s,function(b,c,f){e.parent().data("easytabs").cached=true;d.trigger("easytabs:ajax:complete",[e,a,b,c,f])})}if(b.animate&&b.transitionOut=="fadeOut")if(i>0)h.animate({height:h.height()+i},f.halfSpeed);else h.css({"min-height":h.height()});c.tabs.filter("."+b.tabActiveClass).removeClass(b.tabActiveClass).children().removeClass(b.tabActiveClass);c.tabs.filter("."+b.collapsedClass).removeClass(b.collapsedClass).children().removeClass(b.collapsedClass);e.parent().addClass(b.tabActiveClass).children().addClass(b.tabActiveClass);c.panels.filter("."+b.panelActiveClass).removeClass(b.panelActiveClass);a.addClass(b.panelActiveClass);if(j.length)j[f.hide](f.speed,b.transitionOutEasing,m);else a[f.uncollapse](f.speed,b.transitionUncollapseEasing,m)}},n=function(b){if(b.data("easytabs")&&b.data("easytabs").lastHeight)return b.data("easytabs").lastHeight;var d=b.css("display"),c=b.wrap(a("<div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight();b.unwrap();b.css({position:b.data("easytabs").position,visibility:b.data("easytabs").visibility,display:d});b.data("easytabs").lastHeight=c;return c},o=function(a){var b=a.outerHeight();if(a.data("easytabs"))a.data("easytabs").lastHeight=b;else a.data("easytabs",{lastHeight:b});return b},r=function(){if(typeof a(window).hashchange==="function")a(window).hashchange(function(){c.selectTabFromHashChange()});else a.address&&typeof a.address.change==="function"&&a.address.change(function(){c.selectTabFromHashChange()})},v=function(){var a;if(b.cycle){a=c.tabs.index(e);setTimeout(function(){c.cycleTabs(a+1)},b.cycle)}};c.init()};a.fn.easytabs=function(b){var c=arguments;return this.each(function(){var e=a(this),d=e.data("easytabs");if(undefined===d){d=new a.easytabs(this,b);e.data("easytabs",d)}if(d.publicMethods[b])return d.publicMethods[b](Array.prototype.slice.call(c,1))})}})(jQuery)